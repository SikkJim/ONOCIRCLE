<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css">
    <style>
        .cascading-right {
            margin-right: -50px;
        }

        @media (max-width: 991.98px) {
            .cascading-right {
                margin-right: 0;
            }
        }

        .logo-container img {
            max-width: 150px;
            margin-bottom: 20px;
        }

        /* Custom styling for messages */
        .message-success {
            color: #155724; /* Dark green text */
            background-color: #d4edda; /* Light green background */
            border: 1px solid #c3e6cb; /* Green border */
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
        }

        .message-danger {
            color: #721c24; /* Dark red text */
            background-color: #f8d7da; /* Light red background */
            border: 1px solid #f5c6cb; /* Red border */
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <section class="text-center text-lg-start vh-100 d-flex align-items-center">
        <div class="container py-4">
            <div class="row g-0 align-items-center justify-content-center">
                <div class="col-lg-6 mb-5 mb-lg-0">
                    <div class="card cascading-right bg-body-tertiary" style="backdrop-filter: blur(30px);">
                        <div class="card-body p-5 shadow-5 text-center">

                            <div class="logo-container">
                                <img src="Images/logo.png" alt="Company Logo">
                            </div>

                            <h2 class="fw-bold mb-4">Reset Your Password</h2>
                            <p class="mb-4 text-muted">Enter your email address below and we'll send you a link to reset your password.</p>

                            <form id="forgotPasswordForm">
                                <div class="form-outline mb-4">
                                    <input type="email" id="resetEmail" class="form-control" required />
                                    <label class="form-label" for="resetEmail">Email address</label>
                                </div>

                                <button type="submit" class="btn btn-primary btn-block mb-4">
                                    Send Reset Link
                                </button>

                                <div class="text-center mt-3">
                                    <p>Remembered your password? <a href="login.html">Login here</a></p>
                                </div>
                                <div id="resetMessage" class="mt-3 d-none"></div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.js"></script>
    <script>
        document.getElementById('forgotPasswordForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const emailInput = document.getElementById('resetEmail');
            const resetMessageDiv = document.getElementById('resetMessage');
            const userEmail = emailInput.value.trim();

            // Clear previous messages and classes
            resetMessageDiv.textContent = '';
            resetMessageDiv.classList.add('d-none');
            resetMessageDiv.classList.remove('message-success', 'message-danger');

            if (userEmail) {
                // In a real application, you would send an AJAX request to your backend here
                // to initiate the password reset process. This is a frontend simulation.

                // Simulate a delay for a more realistic feel
                setTimeout(() => {
                    // Simulate success. In a real app, you'd check a response from the server.
                    const isSuccess = true; // Change to false to test error scenario

                    if (isSuccess) {
                        resetMessageDiv.textContent = 'If an account with that email exists, a password reset link has been sent to your inbox.';
                        resetMessageDiv.classList.remove('d-none');
                        resetMessageDiv.classList.add('message-success');
                        emailInput.value = ''; // Clear email input on success
                    } else {
                        // This else block would typically be triggered by a server error response
                        resetMessageDiv.textContent = 'Failed to send reset link. Please check your email or try again later.';
                        resetMessageDiv.classList.remove('d-none');
                        resetMessageDiv.classList.add('message-danger');
                    }
                }, 1000); // Simulate 1 second loading time
                
            } else {
                resetMessageDiv.textContent = 'Please enter your email address.';
                resetMessageDiv.classList.remove('d-none');
                resetMessageDiv.classList.add('message-danger');
            }
            // Re-initialize MDBootstrap form outlines after dynamic changes if needed,
            // though for simple input value changes, it's often not strictly necessary.
            // new mdb.Input(emailInput).init(); 
        });

        // Initialize MDBoostrap form outlines for the email input on page load
        // This ensures the label floats correctly when there's a default value or user input.
        document.addEventListener('DOMContentLoaded', function() {
            const emailInput = document.getElementById('resetEmail');
            if (emailInput) {
                new mdb.Input(emailInput).init();
            }
        });
    </script>
</body>

</html>